{
  "type" : "bulk",
  "args" : [ {
    "type" : "clear_metadata",
    "args" : { }
  }, {
    "type" : "track_table",
    "args" : {
      "schema" : "public",
      "name" : "calendar_user"
    }
  }, {
    "type" : "track_table",
    "args" : {
      "schema" : "public",
      "name" : "calendar_role_type"
    }
  }, {
    "type" : "set_table_is_enum",
    "args" : {
      "table" : {
        "schema" : "public",
        "name" : "calendar_role_type"
      },
      "is_enum" : true
    }
  }, {
    "type" : "track_table",
    "args" : {
      "schema" : "public",
      "name" : "day"
    }
  }, {
    "type" : "track_table",
    "args" : {
      "schema" : "public",
      "name" : "event"
    }
  }, {
    "type" : "track_table",
    "args" : {
      "schema" : "public",
      "name" : "calendar"
    }
  }, {
    "type" : "track_table",
    "args" : {
      "schema" : "public",
      "name" : "calendar_role"
    }
  }, {
    "type" : "track_table",
    "args" : {
      "schema" : "public",
      "name" : "calendar_availability"
    }
  }, {
    "type" : "set_table_is_enum",
    "args" : {
      "table" : {
        "schema" : "public",
        "name" : "calendar_availability"
      },
      "is_enum" : true
    }
  }, {
    "type" : "track_table",
    "args" : {
      "schema" : "public",
      "name" : "theme"
    }
  }, {
    "type" : "track_table",
    "args" : {
      "schema" : "public",
      "name" : "theme_theme_layouts"
    }
  }, {
    "type" : "track_table",
    "args" : {
      "schema" : "public",
      "name" : "layout"
    }
  }, {
    "type" : "set_table_custom_fields",
    "version" : 2,
    "args" : {
      "table" : "calendar_user",
      "schema" : "public",
      "custom_root_fields" : {
        "select" : "calendarUsers",
        "select_by_pk" : "calendarUser",
        "select_aggregate" : "calendarUserAggregate",
        "insert" : "createCalendarUsers",
        "update" : "updateCalendarUsers",
        "delete" : "deleteCalendarUsers"
      },
      "custom_column_names" : {
        "created_at" : "createdAt",
        "updated_at" : "updatedAt",
        "firebase_user_id" : "firebaseUserId",
        "first_name" : "firstName",
        "last_name" : "lastName"
      }
    }
  }, {
    "type" : "set_table_custom_fields",
    "version" : 2,
    "args" : {
      "table" : "calendar_role_type",
      "schema" : "public",
      "custom_root_fields" : {
        "select" : "calendarRoleRoleTypes",
        "select_by_pk" : "calendarRoleRoleType",
        "select_aggregate" : "calendarRoleRoleTypeAggregate",
        "insert" : "createCalendarRoleRoleTypes",
        "update" : "updateCalendarRoleRoleTypes",
        "delete" : "deleteCalendarRoleRoleTypes"
      },
      "custom_column_names" : { }
    }
  }, {
    "type" : "set_table_custom_fields",
    "version" : 2,
    "args" : {
      "table" : "day",
      "schema" : "public",
      "custom_root_fields" : {
        "select" : "days",
        "select_by_pk" : "day",
        "select_aggregate" : "dayAggregate",
        "insert" : "createDays",
        "update" : "updateDays",
        "delete" : "deleteDays"
      },
      "custom_column_names" : {
        "created_at" : "createdAt",
        "updated_at" : "updatedAt",
        "calendar_id" : "calendarId",
        "condition_class" : "conditionClass",
        "condition_params" : "conditionParams",
        "theme_config" : "themeConfig"
      }
    }
  }, {
    "type" : "create_object_relationship",
    "args" : {
      "name" : "calendar",
      "table" : {
        "name" : "day",
        "schema" : "public"
      },
      "using" : {
        "foreign_key_constraint_on" : "calendar_id"
      }
    }
  }, {
    "type" : "create_array_relationship",
    "args" : {
      "name" : "events",
      "table" : {
        "name" : "day",
        "schema" : "public"
      },
      "using" : {
        "foreign_key_constraint_on" : {
          "table" : {
            "name" : "event",
            "schema" : "public"
          },
          "column" : "day_id"
        }
      }
    }
  }, {
    "type" : "set_table_custom_fields",
    "version" : 2,
    "args" : {
      "table" : "calendar",
      "schema" : "public",
      "custom_root_fields" : {
        "select" : "calendars",
        "select_by_pk" : "calendar",
        "select_aggregate" : "calendarAggregate",
        "insert" : "createCalendars",
        "update" : "updateCalendars",
        "delete" : "deleteCalendars"
      },
      "custom_column_names" : {
        "created_at" : "createdAt",
        "updated_at" : "updatedAt",
        "availability_value" : "availabilityValue",
        "locale_country" : "localeCountry",
        "locale_lang" : "localeLang",
        "next_version_id" : "nextVersionId",
        "previous_version_id" : "previousVersionId",
        "theme_id" : "themeId",
        "theme_config" : "themeConfig"
      }
    }
  }, {
    "type" : "create_object_relationship",
    "args" : {
      "name" : "availability",
      "table" : {
        "name" : "calendar",
        "schema" : "public"
      },
      "using" : {
        "foreign_key_constraint_on" : "availability_value"
      }
    }
  }, {
    "type" : "create_array_relationship",
    "args" : {
      "name" : "days",
      "table" : {
        "name" : "calendar",
        "schema" : "public"
      },
      "using" : {
        "foreign_key_constraint_on" : {
          "table" : {
            "name" : "day",
            "schema" : "public"
          },
          "column" : "calendar_id"
        }
      }
    }
  }, {
    "type" : "create_object_relationship",
    "args" : {
      "name" : "nextVersion",
      "table" : {
        "name" : "calendar",
        "schema" : "public"
      },
      "using" : {
        "foreign_key_constraint_on" : "next_version_id"
      }
    }
  }, {
    "type" : "create_object_relationship",
    "args" : {
      "name" : "previousVersion",
      "table" : {
        "name" : "calendar",
        "schema" : "public"
      },
      "using" : {
        "foreign_key_constraint_on" : "previous_version_id"
      }
    }
  }, {
    "type" : "create_array_relationship",
    "args" : {
      "name" : "roles",
      "table" : {
        "name" : "calendar",
        "schema" : "public"
      },
      "using" : {
        "foreign_key_constraint_on" : {
          "table" : {
            "name" : "calendar_role",
            "schema" : "public"
          },
          "column" : "calendar_id"
        }
      }
    }
  }, {
    "type" : "create_object_relationship",
    "args" : {
      "name" : "theme",
      "table" : {
        "name" : "calendar",
        "schema" : "public"
      },
      "using" : {
        "foreign_key_constraint_on" : "theme_id"
      }
    }
  }, {
    "type" : "set_table_custom_fields",
    "version" : 2,
    "args" : {
      "table" : "event",
      "schema" : "public",
      "custom_root_fields" : {
        "select" : "events",
        "select_by_pk" : "event",
        "select_aggregate" : "eventAggregate",
        "insert" : "createEvents",
        "update" : "updateEvents",
        "delete" : "deleteEvents"
      },
      "custom_column_names" : {
        "created_at" : "createdAt",
        "updated_at" : "updatedAt",
        "calendar_id" : "calendarId",
        "content_type" : "contentType",
        "day_id" : "dayId"
      }
    }
  }, {
    "type" : "create_object_relationship",
    "args" : {
      "name" : "calendar",
      "table" : {
        "name" : "event",
        "schema" : "public"
      },
      "using" : {
        "foreign_key_constraint_on" : "calendar_id"
      }
    }
  }, {
    "type" : "create_object_relationship",
    "args" : {
      "name" : "day",
      "table" : {
        "name" : "event",
        "schema" : "public"
      },
      "using" : {
        "foreign_key_constraint_on" : "day_id"
      }
    }
  }, {
    "type" : "set_table_custom_fields",
    "version" : 2,
    "args" : {
      "table" : "calendar_availability",
      "schema" : "public",
      "custom_root_fields" : {
        "select" : "calendarAvailabilities",
        "select_by_pk" : "calendarAvailability",
        "select_aggregate" : "calendarAvailabilityAggregate",
        "insert" : "createCalendarAvailabilities",
        "update" : "updateCalendarAvailabilities",
        "delete" : "deleteCalendarAvailabilities"
      },
      "custom_column_names" : { }
    }
  }, {
    "type" : "set_table_custom_fields",
    "version" : 2,
    "args" : {
      "table" : "calendar_role",
      "schema" : "public",
      "custom_root_fields" : {
        "select" : "calendarRoles",
        "select_by_pk" : "calendarRole",
        "select_aggregate" : "calendarRoleAggregate",
        "insert" : "createCalendarRoles",
        "update" : "updateCalendarRoles",
        "delete" : "deleteCalendarRoles"
      },
      "custom_column_names" : {
        "created_at" : "createdAt",
        "updated_at" : "updatedAt",
        "calendar_id" : "calendarId",
        "role_value" : "roleValue",
        "user_id" : "userId"
      }
    }
  }, {
    "type" : "create_object_relationship",
    "args" : {
      "name" : "calendar",
      "table" : {
        "name" : "calendar_role",
        "schema" : "public"
      },
      "using" : {
        "foreign_key_constraint_on" : "calendar_id"
      }
    }
  }, {
    "type" : "create_object_relationship",
    "args" : {
      "name" : "role",
      "table" : {
        "name" : "calendar_role",
        "schema" : "public"
      },
      "using" : {
        "foreign_key_constraint_on" : "role_value"
      }
    }
  }, {
    "type" : "create_object_relationship",
    "args" : {
      "name" : "user",
      "table" : {
        "name" : "calendar_role",
        "schema" : "public"
      },
      "using" : {
        "foreign_key_constraint_on" : "user_id"
      }
    }
  }, {
    "type" : "set_table_custom_fields",
    "version" : 2,
    "args" : {
      "table" : "theme",
      "schema" : "public",
      "custom_root_fields" : {
        "select" : "themes",
        "select_by_pk" : "theme",
        "select_aggregate" : "themeAggregate",
        "insert" : "createThemes",
        "update" : "updateThemes",
        "delete" : "deleteThemes"
      },
      "custom_column_names" : {
        "created_at" : "createdAt",
        "updated_at" : "updatedAt",
        "css_class_name" : "cssClassName",
        "max_day_count" : "maxDayCount",
        "min_day_count" : "minDayCount"
      }
    }
  }, {
    "type" : "create_array_relationship",
    "args" : {
      "name" : "themeLayouts",
      "table" : {
        "name" : "theme",
        "schema" : "public"
      },
      "using" : {
        "foreign_key_constraint_on" : {
          "table" : {
            "name" : "theme_theme_layouts",
            "schema" : "public"
          },
          "column" : "theme_id"
        }
      }
    }
  }, {
    "type" : "set_table_custom_fields",
    "version" : 2,
    "args" : {
      "table" : "layout",
      "schema" : "public",
      "custom_root_fields" : {
        "select" : "layouts",
        "select_by_pk" : "layout",
        "select_aggregate" : "layoutAggregate",
        "insert" : "createLayouts",
        "update" : "updateLayouts",
        "delete" : "deleteLayouts"
      },
      "custom_column_names" : {
        "created_at" : "createdAt",
        "updated_at" : "updatedAt",
        "max_height" : "maxHeight",
        "max_width" : "maxWidth",
        "media_query" : "mediaQuery",
        "min_height" : "minHeight",
        "min_width" : "minWidth",
        "theme_id" : "themeId",
        "user_agent_regexp" : "userAgentRegexp"
      }
    }
  }, {
    "type" : "create_object_relationship",
    "args" : {
      "name" : "theme",
      "table" : {
        "name" : "layout",
        "schema" : "public"
      },
      "using" : {
        "foreign_key_constraint_on" : "theme_id"
      }
    }
  }, {
    "type" : "create_select_permission",
    "args" : {
      "table" : {
        "name" : "day",
        "schema" : "public"
      },
      "role" : "USER",
      "permission" : {
        "set" : { },
        "columns" : "*",
        "allow_aggregations" : true,
        "filter" : {
          "calendar" : {
            "roles" : {
              "user_id" : {
                "_eq" : "X-Hasura-User-Id"
              }
            }
          }
        }
      }
    }
  }, {
    "type" : "create_insert_permission",
    "args" : {
      "table" : {
        "name" : "calendar",
        "schema" : "public"
      },
      "role" : "USER",
      "permission" : {
        "set" : { },
        "columns" : "*",
        "allow_aggregations" : true,
        "check" : { }
      }
    }
  }, {
    "type" : "create_select_permission",
    "args" : {
      "table" : {
        "name" : "calendar",
        "schema" : "public"
      },
      "role" : "USER",
      "permission" : {
        "set" : { },
        "columns" : "*",
        "allow_aggregations" : true,
        "filter" : {
          "roles" : {
            "user_id" : {
              "_eq" : "X-Hasura-User-Id"
            }
          }
        }
      }
    }
  }, {
    "type" : "create_update_permission",
    "args" : {
      "table" : {
        "name" : "calendar",
        "schema" : "public"
      },
      "role" : "USER",
      "permission" : {
        "set" : { },
        "columns" : "*",
        "allow_aggregations" : true,
        "filter" : {
          "_and" : [ {
            "roles" : {
              "user_id" : {
                "_eq" : "X-Hasura-User-Id"
              }
            }
          }, {
            "roles" : {
              "role_value" : {
                "_in" : [ "OWNER", "EDITOR" ]
              }
            }
          } ]
        }
      }
    }
  }, {
    "type" : "create_delete_permission",
    "args" : {
      "table" : {
        "name" : "calendar",
        "schema" : "public"
      },
      "role" : "USER",
      "permission" : {
        "set" : { },
        "columns" : [ "created_at", "updated_at", "availability_value", "id", "description", "locale_country", "next_version_id", "published", "id", "theme_id", "theme_config", "title", "version" ],
        "allow_aggregations" : true,
        "filter" : {
          "_and" : [ {
            "roles" : {
              "user_id" : {
                "_eq" : "X-Hasura-User-Id"
              }
            }
          }, {
            "roles" : {
              "role_value" : {
                "_in" : [ "OWNER", "EDITOR" ]
              }
            }
          } ]
        }
      }
    }
  }, {
    "type" : "run_sql",
    "args" : {
      "sql" : "DROP TRIGGER IF EXISTS calendar_next_version_id_cascade_delete_trigger ON calendar;; DROP FUNCTION  IF EXISTS calendar_next_version_id_cascade_delete(); CREATE FUNCTION calendar_next_version_id_cascade_delete() RETURNS trigger AS $body$ BEGIN     IF TG_WHEN <> 'AFTER' OR TG_OP <> 'DELETE' THEN         RAISE EXCEPTION 'calendar_next_version_id_cascade_delete may only run as a AFTER DELETE trigger';     END IF;      DELETE FROM calendar where id=OLD.next_version_id;     RETURN OLD; END; $body$ LANGUAGE plpgsql;; CREATE TRIGGER calendar_next_version_id_cascade_delete_trigger AFTER DELETE ON calendar     FOR EACH ROW EXECUTE PROCEDURE calendar_next_version_id_cascade_delete();;                       "
    }
  }, {
    "type" : "run_sql",
    "args" : {
      "sql" : "DROP TRIGGER IF EXISTS calendar_previous_version_id_cascade_delete_trigger ON calendar;; DROP FUNCTION  IF EXISTS calendar_previous_version_id_cascade_delete(); CREATE FUNCTION calendar_previous_version_id_cascade_delete() RETURNS trigger AS $body$ BEGIN     IF TG_WHEN <> 'AFTER' OR TG_OP <> 'DELETE' THEN         RAISE EXCEPTION 'calendar_previous_version_id_cascade_delete may only run as a AFTER DELETE trigger';     END IF;      DELETE FROM calendar where id=OLD.previous_version_id;     RETURN OLD; END; $body$ LANGUAGE plpgsql;; CREATE TRIGGER calendar_previous_version_id_cascade_delete_trigger AFTER DELETE ON calendar     FOR EACH ROW EXECUTE PROCEDURE calendar_previous_version_id_cascade_delete();;                       "
    }
  } ]
}

